<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Wpisz odpowiedź</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #f9f9f9; }
    .container { max-width: 450px; margin: 60px auto; padding: 2em; background: #fff; border-radius: 14px; box-shadow: 0 4px 16px #0002; text-align:center; }
    .top-icon { display:block; margin:0 auto 1.2em; max-width:140px; }

    input[type="text"] { font-size: 1.4em; padding: 0.3em; width: 95%; margin: 0.5em 0; }
    button { font-size: 1.1em; padding: 0.4em 1.2em; border-radius: 8px; margin-top: 0.5em; }

    #response {
      margin-top: 1.3em; font-size: 1.2em; min-height: 2em;
      padding: 0.7em 1em; border-radius: 8px; display: inline-block;
      transition: background 0.3s, color 0.3s;
    }

    .good { background: #d8f5dd; color: #227733; border: 1px solid #87d39b; }
    .bad  { background: #fadada; color: transparent; border: 1px solid #e99898; }
    .neutral { background: #f1f1f1; color: #333; border: 1px solid #ccc; }
    .fail-icon { display:block; margin:0 auto; max-width:120px; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Ikona na górze -->
    <img src="GEARS.PNG" alt="Gears" class="top-icon" />

    <!-- Formularz z jednym polem -->
    <form id="codeForm" autocomplete="off">
      <input type="text" id="codeInput" maxlength="9" pattern="\d*" placeholder="Wpisz odpowiedź..." autofocus required>
      <br>
      <button type="submit">Sprawdź</button>
    </form>
    <div id="response"></div>
  </div>

  <script>
    // Lista poprawnych odpowiedzi (w ustalonej kolejności)
    const answers = [
      "65", "207", "115", "5", "27", "275", "157", "146", "14", "55340252",
      "291", "164", "245", "64229136", "21", "111", "40", "888", "9", "7"
    ];

    let current = 0; // indeks bieżącego etapu

    const form = document.getElementById('codeForm');
    const input = document.getElementById('codeInput');
    const responseDiv = document.getElementById('response');

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const answer = input.value.trim();
      responseDiv.className = ""; // reset klas

      // Walidacja: 1‑9 cyfr
      if (!/^\d{1,9}$/.test(answer)) {
        responseDiv.textContent = "Odpowiedź musi być liczbą (1‑9 cyfr).";
        responseDiv.classList.add('neutral');
        input.focus();
        return;
      }

      // Sprawdzenie odpowiedzi
      if (current < answers.length && answer === answers[current]) {
        responseDiv.innerHTML = "&para; Brawo! Przejdź do następnej karty!";
        responseDiv.classList.add('good');
        current++;
        // Zakończenie gry
        if (current === answers.length) {
          responseDiv.innerHTML += "<br>Gratulacje! Ukończyłeś wszystkie etapy.";
          form.style.display = 'none';
        }
      } else {
        responseDiv.innerHTML = "<img src='FAIL.PNG' alt='Fail' class='fail-icon'/>";
        responseDiv.classList.add('bad');
      }

      // Przygotowanie do kolejnej próby
      input.value = "";
      input.focus();
    });
  </script>
</body>
</html>
